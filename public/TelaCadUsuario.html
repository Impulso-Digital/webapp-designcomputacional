<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/TelaCadUsuario.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700&display=swap" rel="stylesheet">

    <title>Cadastro de Projeto</title>

    <style>
        .tag-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .tag {
            background-color: #f0f0f0;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            border: 1px solid #ccc;
            transition: background-color 0.3s, color 0.3s;
        }

        .tag.selected {
            background-color: #4caf50;
            color: white;
        }

        /* Estilo para a área da thumbnail */
        .thumbnail-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .thumbnail-preview {
            max-width: 500px;
            max-height: 500px;
            margin-bottom: 10px;
            display: none;
        }

        .thumbnail-preview img {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .error-message {
            color: red;
            font-size: 14px;
            margin-top: 10px;
        }

        /* Estilo para o upload de arquivos */
        .upload-files-container {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .upload-file {
            margin: 10px 0;
        }

        /* Estilo para o feedback visual de sucesso */
        .success-message {
            color: green;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }

        .success-icon {
            margin-right: 10px;
            color: green;
            font-size: 18px;
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="header-left">
            <a href="TelaInicialUsuario.html"><img src="./assets/logo-designcomputacional.png" alt="Logo Design Computacional" class="logo-dc-header"></a>
            <div class="search-box">
                <input type="text" placeholder="Buscar categoria ou usuário" class="text-box">
                <button class="search-button">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <nav class="header-right">
            <a href="#" class="open-modal projetos" data-modal="modal">PROJETOS</a>
            <a href="TelaMeusProjetos.html" class="open-modal registrar" data-modal="modal-1">MEUS PROJETOS</a>
            <div class="dropdown">
                <button class="dropbtn">MINHA CONTA ⬇</button>
                <div class="dropdown-content">
                    <a href="#cadastrar-projeto">CADASTRAR PROJETO</a>
                    <a href="#editar-perfil">EDITAR PERFIL</a>
                    <a href="#configuracoes">CONFIGURAÇÕES</a>
                    <a href="#" id="logout">SAIR</a>
                </div>
            </div>

            <script src="./js/menu-user.js"></script>
        </nav>
    </header>

    <span class="title">CADASTRAR PROJETO</span>

    <div class="content">
        <form id="formCadastroProjeto" enctype="multipart/form-data">
            <!-- Área de upload e pré-visualização da thumbnail -->
            <div class="thumbnail-container">
                <label for="thumbnail-upload">Thumbnail do Projeto:</label>
                <input type="file" id="thumbnail" accept="image/*">
                
                <div id="thumbnail-preview" class="thumbnail-preview">
                    <img id="thumbnail-image" src="" alt="Thumbnail Preview">
                </div>
                <div id="error-message" class="error-message"></div>
            </div>
            <input type="hidden" name="projectId" id="projectId" value="">
            <div class="desc-cat-up">
                <div class="desc-cat">
                    <label for="project_name">Nome do Projeto:</label>
                    <input type="text" id="nome_projeto" name="nome_projeto" placeholder="Insira o nome do seu projeto">

                    <label for="project_description">Descrição:</label>
                    <textarea id="descricao_projeto" name="descricao" placeholder="Adicione uma breve descrição explicando o objetivo e a funcionalidade do seu código."></textarea>

                    <label for="categorias">Categorias (Escolha de 1 a 5):</label>
                    <div id="categorias" class="tag-group">
                        <span class="tag" data-value="animacao">Animação</span>
                        <span class="tag" data-value="arte-generativa">Arte Generativa</span>
                        <span class="tag" data-value="captura-de-gestos">Captura de Gestos</span>
                        <span class="tag" data-value="computacao-grafica">Computação Gráfica</span>
                        <span class="tag" data-value="design-interativo">Design Interativo</span>
                        <span class="tag" data-value="deteccao-de-movimento">Detecção de Movimento</span>
                        <span class="tag" data-value="geracao-algoritmica">Geração Algorítmica</span>
                        <span class="tag" data-value="instalacoes-interativas">Instalações Interativas</span>
                        <span class="tag" data-value="interacao-em-tempo-real">Interação em Tempo Real</span>
                        <span class="tag" data-value="interatividade-sensorial">Interatividade Sensorial</span>
                        <span class="tag" data-value="kinect">Kinect</span>
                        <span class="tag" data-value="linguagem-visual">Linguagem Visual</span>
                        <span class="tag" data-value="microfone">Microfone</span>
                        <span class="tag" data-value="perifericos-nao-convencionais">Periféricos Não Convencionais</span>
                        <span class="tag" data-value="pixel-art">Pixel Art</span>
                        <span class="tag" data-value="processamento-de-imagens">Processamento de Imagens</span>
                        <span class="tag" data-value="som-e-audio">Som e Áudio</span>
                        <span class="tag" data-value="tipografia-digital">Tipografia Digital</span>
                        <span class="tag" data-value="video-em-tempo-real">Vídeo em Tempo Real</span>
                        <span class="tag" data-value="visualizacao-de-dados">Visualização de Dados</span>
                        <span class="tag" data-value="visualizacoes-abstratas">Visualizações Abstratas</span>
                        <span class="tag" data-value="webcam">Webcam</span>
                    </div>
                </div>

                <div class="upload-images">
                    <img src="./images/upload_img.png">
                    <label for="upload" class="upload_title">Adicione arquivos compactados sobre o projeto aqui</label>
                    <input type="file" id="projetoFile" name="projetoFile" accept=".zip,.tar,.tar.gz,.rar,.7z">
                    <div id="upload-error-message" class="error-message"></div>
                    <div id="upload-success-message" class="success-message">
                        <i class="fas fa-check-circle success-icon"></i> Arquivo enviado com sucesso!
                    </div>
                </div>
            </div>

            <label for="project_code">Código:</label>
            <textarea id="codigo_projeto" name="codigo" placeholder="Insira seu código nesta seção!"></textarea>

            <label for="tipo_projeto">Tipo de Projeto:</label>
            <select id="tipo_projeto" name="tipo_projeto">
                <option value="p5js">p5.js</option>
                <option value="processing">Processing</option>
            </select>
            

            <div class="botoes">
                <button type="submit" class="enviar">Enviar Projeto</button>
                <button type="reset" class="cancelar">Cancelar</button>
            </div>
        </form>
    </div>

    <footer>
        <div class="footer-left">
            <h1>@2025 IMPULSODIGITAL</h1>
            <a href="termos.html">TERMOS</a>
        </div>
        <div class="social-icons">
            <a href="https://facebook.com"><i class="fab fa-facebook-f"></i></a>
            <a href="https://instagram.com"><i class="fab fa-instagram"></i></a>
            <a href="https://youtube.com"><i class="fab fa-youtube"></i></a>
            <img src="./assets/logo-designcomputacional.png">
        </div>
    </footer>

    <script>
        // Função para pré-visualizar a thumbnail antes de enviar
        document.getElementById('thumbnail').addEventListener('change', function (event) {
            const file = event.target.files[0];
            const errorMessage = document.getElementById('error-message');
            const reader = new FileReader();

            // Limite de 5MB
            if (file.size > 5 * 1024 * 1024) {
                errorMessage.textContent = "A imagem é muito grande. O tamanho máximo permitido é 5MB.";
                return;
            } else {
                errorMessage.textContent = ''; // Limpa a mensagem de erro
            }

            reader.onload = function (e) {
                const thumbnailImage = document.getElementById('thumbnail-image');
                const preview = document.getElementById('thumbnail-preview');

                thumbnailImage.src = e.target.result;
                preview.style.display = 'block'; // Exibe a pré-visualização
            };

            reader.readAsDataURL(file);
        });

        // Validação de arquivos compactados
        document.getElementById('projetoFile').addEventListener('change', function (event) {
            const file = event.target.files[0];
            const errorMessage = document.getElementById('upload-error-message');
            const successMessage = document.getElementById('upload-success-message');
            const maxSize = 200 * 1024 * 1024; // 200MB em bytes
            const validExtensions = ['.zip', '.tar', '.tar.gz', '.rar', '.7z'];
            const fileExtension = file.name.split('.').pop().toLowerCase();

            // Verifica o tipo de arquivo e o tamanho
            if (file && file.size > maxSize) {
                errorMessage.textContent = "O arquivo é muito grande. O tamanho máximo permitido é 200MB.";
                successMessage.style.display = 'none';
            } else if (file && !validExtensions.includes('.' + fileExtension)) {
                errorMessage.textContent = "Formato de arquivo inválido. Envie arquivos compactados (.zip, .tar, .tar.gz, .rar, .7z).";
                successMessage.style.display = 'none';
            } else {
                errorMessage.textContent = '';
                successMessage.style.display = 'block';
            }
        });
    </script>
<script src="./assets/script.js"></script>
<script src="./js/modal.js"></script>
<script src="./js/menu-user.js"></script>


</body>




</html>
